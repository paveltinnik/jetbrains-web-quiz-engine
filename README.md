# jetbrains-web-quiz-engine
## Регистрация пользователя
Для регистрации нового пользователя отправьте `POST` запрос на URL `localhost:8889/api/register` с телом запроса в виде, представленном ниже. Пароль хранится закодированным с помощью BCrypt:
```json
{
  "email": "test@gmail.com",
  "password": "secret"
}
```
Сервер возвращает код состояния `200 (OK)`, если регистрация была успешно завершена.

Если `email` уже занят другим пользователем, сервер вернет код состояния `400 (Bad request)`.

Вот некоторые дополнительные ограничения на формат учетных данных пользователя:
- `email` должен иметь правильный формат (с `@` и `.`);
- `password` должен состоять не менее чем из пяти символов.
Если какой-либо из них не удовлетворен, сервер также вернет код состояния `400 (Bad request)`.
Для успешного выполнения всех следующих операций требуется зарегистрированный пользователь. 
## Создание нового теста
Чтобы создать новый тест, клиенту необходимо отправить JSON в качестве тела запроса через `POST` в `/api/quizzes`. JSON должен содержать четыре поля:
`title`: обязательная строка;
`text`: обязательная строка;
`options`: массив строк, обязательный, должен содержать не менее 2-х элементов;
`answer`: массив индексов правильных вариантов, необязателен, так как все варианты могут быть неправильными.
Вот новый JSON тест в качестве примера:
```json
{
  "title": "Coffee drinks",
  "text": "Select only coffee drinks.",
  "options": ["Americano","Tea","Cappuccino","Sprite"],
  "answer": [0,2]
}
```
`answer` равный `[0,2]` соответствует первому и третьему пункту из массива опций (`"Americano"` и `"Cappuccino"`).

Ответ сервера представляет собой JSON с четырьмя полями: `id`, `title`, `text` и `options`. Вот пример:
```json
{
  "id": 1,
  "title": "Coffee drinks",
  "text": "Select only coffee drinks.",
  "options": ["Americano","Tea","Cappuccino","Sprite"]
}
```
Поле `id` - это сгенерированный уникальный целочисленный идентификатор для вопроса. Кроме того, ответ может включать или не включать поле ответа в зависимости от ваших пожеланий. Это не очень важно для данной операции.

Если запрос JSON не содержит `title` или `text`, или они представляют собой пустые строки (`""`), то сервер должен ответить кодом состояния `400 (Bad request)`. Если количество вариантов в тесте меньше 2, сервер возвращает тот же код состояния. 
## Решение теста
Чтобы решить тест, клиент отправляет запрос `POST` в `/api/quizzes/{id}/solve` с JSON, который содержит индексы всех выбранных параметров в качестве ответа. Это выглядит как обычный объект JSON с ключом `"answer"` и значением в виде массива: `{"answer": [0,2]}`. Как и раньше, индексы начинаются с нуля.

Также можно отправить пустой массив `[]`, поскольку в некоторых тестах могут быть неверные параметры.

Сервер возвращает JSON с двумя полями: `success` (`true` или `false`) и `feedback` (просто строка). Есть три возможных ответа.

- Если принятый ответ правильный:
```json
{"success":true,"feedback":"Congratulations, you're right!"}
```
- Если ответ неверный:
```json
{"success":false,"feedback":"Wrong answer! Please, try again."}
```
- Если указанный тест не существует, сервер возвращает код состояния `404 (Not found)`.
## Удаление вопроса
Пользователь может удалить свой вопрос, отправив запрос `DELETE` по адресу `/api/quizzes/{id}`.
Если операция прошла успешно, служба вернет код состояния `204 (No content)` без какого-либо содержимого.
Если указанный вопрос не существует, сервер возвращает `404 (Not found)`. Если указанный пользователь не является автором этого вопроса, ответом будет код статуса `403 (Forbidden)`. 
